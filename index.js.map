{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const KEY = \"46403551-b403f9f66c1c3bacc7ad46072\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\n\n//Getting images by query\nexport default function getImages(query) {\n  const searchParams = new URLSearchParams({\n    key: KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n  });\n\n  return fetch(BASE_URL + `?${searchParams}`);\n}","import SimpleLightbox from \"simplelightbox\";\n\n// Init a new instence of the SimpleLightbox\nconst lightbox = new SimpleLightbox('.gallery .gallery-item a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n  showCounter: false,\n});\n\n// Rendering the gallery with results\nexport default function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  let markup = '';\n  \n  images.forEach(image => {\n    const { largeImageURL, tags, likes, views, comments, downloads } = image;\n  \n    markup += `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${largeImageURL}\"\n          alt=\"${tags}\"\n        />\n        <div class=\"gallery-footer\">\n          <div class=\"footer-item\">\n            <span class=\"item-title\">Likes</span>\n            <span class=\"item-value\">${likes}</span>\n          </div>\n          <div class=\"footer-item\">\n            <span class=\"item-title\">Views</span>\n            <span class=\"item-value\">${views}</span>\n          </div>\n          <div class=\"footer-item\">\n            <span class=\"item-title\">Comments</span>\n            <span class=\"item-value\">${comments}</span>\n          </div>\n          <div class=\"footer-item\">\n            <span class=\"item-title\">Downloads</span>\n            <span class=\"item-value\">${downloads}</span>\n          </div>\n        </div>\n      </a>\n    </li>`;\n  });\n  \n  gallery.innerHTML = markup;\n  lightbox.refresh();\n\n}\n","import iziToast from \"izitoast\";\nimport getImages from \"./js/pixabay-api\";\nimport renderGallery from \"./js/render-functions\";\n\n//Show spinned loader\nfunction showLoader() {\n  document.querySelector('.loader').style.display = 'inline-block';\n}\n\n//Hide loader\nfunction hideLoader() {\n  document.querySelector('.loader').style.display = 'none';\n}\n\n// iziToast settings\niziToast.settings({\n  position: 'topRight',\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n});\n\nvar form = document.querySelector(\".images-form\");\nconst inputQuery = form.elements.query;\n\n//Submit listener\nform.addEventListener(\"submit\", (evt) => {\n  evt.preventDefault();\n  const query = inputQuery.value.trim();\n  if (query.length < 3) {\n    iziToast.error({\n      message: `❌ Input at last three symbols!`\n    });\n    return\n  }\n  processSubmit(query);\n});\n\n//Processing submit\nfunction processSubmit(query) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = \"\";\n  \n  form.reset();\n  showLoader()\n\n  //Getting images\n  getImages(query)\n  .then( result => {\n    hideLoader();\n    if(!result.ok) {\n      throw new Error(response.status);\n    }\n    return result.json();\n  }).then( items => {\n    if (items.totalHits > 0) {\n      renderGallery(items.hits);\n    } else {\n      iziToast.error({\n        message: `❌ No results found!`\n      });\n    }\n  })\n  .catch((e) => {\n    hideLoader();\n    console.log(e);\n  });\n  \n}\n"],"names":["KEY","BASE_URL","getImages","query","searchParams","lightbox","SimpleLightbox","renderGallery","images","gallery","markup","image","largeImageURL","tags","likes","views","comments","downloads","showLoader","hideLoader","iziToast","form","inputQuery","evt","processSubmit","result","items","e"],"mappings":"6vBAAA,MAAMA,EAAM,qCACNC,EAAW,2BAIF,SAASC,EAAUC,EAAO,CACvC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAMF,EAAW,IAAIG,CAAY,EAAE,CAC5C,CCZA,MAAMC,EAAW,IAAIC,EAAe,2BAA4B,CAC9D,aAAc,IACd,aAAc,MACd,YAAa,EACf,CAAC,EAGc,SAASC,EAAcC,EAAQ,CAC5C,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAAS,GAEbF,EAAO,QAAQG,GAAS,CACtB,KAAM,CAAE,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGN,EAEnED,GAAU;AAAA,sCACwBE,CAAa;AAAA;AAAA;AAAA,iBAGlCA,CAAa;AAAA,iBACbC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uCAKkBC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,uCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,uCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,UAKhD,CAAG,EAEDR,EAAQ,UAAYC,EACpBL,EAAS,QAAO,CAElB,CC5CA,SAASa,GAAa,CACpB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,cACpD,CAGA,SAASC,GAAa,CACpB,SAAS,cAAc,SAAS,EAAE,MAAM,QAAU,MACpD,CAGAC,EAAS,SAAS,CAChB,SAAU,WACV,aAAc,UACd,cAAe,UACjB,CAAC,EAED,IAAIC,EAAO,SAAS,cAAc,cAAc,EAChD,MAAMC,EAAaD,EAAK,SAAS,MAGjCA,EAAK,iBAAiB,SAAWE,GAAQ,CACvCA,EAAI,eAAc,EAClB,MAAMpB,EAAQmB,EAAW,MAAM,KAAI,EACnC,GAAInB,EAAM,OAAS,EAAG,CACpBiB,EAAS,MAAM,CACb,QAAS,gCACf,CAAK,EACD,MACD,CACDI,EAAcrB,CAAK,CACrB,CAAC,EAGD,SAASqB,EAAcrB,EAAO,CAC5B,MAAMM,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpBY,EAAK,MAAK,EACVH,EAAY,EAGZhB,EAAUC,CAAK,EACd,KAAMsB,GAAU,CAEf,GADAN,IACG,CAACM,EAAO,GACT,MAAM,IAAI,MAAM,SAAS,MAAM,EAEjC,OAAOA,EAAO,MAClB,CAAG,EAAE,KAAMC,GAAS,CACZA,EAAM,UAAY,EACpBnB,EAAcmB,EAAM,IAAI,EAExBN,EAAS,MAAM,CACb,QAAS,qBACjB,CAAO,CAEP,CAAG,EACA,MAAOO,GAAM,CACZR,IACA,QAAQ,IAAIQ,CAAC,CACjB,CAAG,CAEH"}